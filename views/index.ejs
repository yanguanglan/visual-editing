<!doctype html>
<html ng-app="drag">
<head>
<meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1.0, maximum-scale=1, user-scalable=no, minimal-ui">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="javascripts/jquery-ui-1.11.4.custom/jquery-ui.css" rel="stylesheet">
<link href="stylesheets/bootstrap-combined.no-icons.min.css" rel="stylesheet">
<link href="stylesheets/bootstrap-responsive.min.css" rel="stylesheet">
<link href="stylesheets/font-awesome.css" rel="stylesheet">
<link href="stylesheets/jquery.Jcrop.css" rel="stylesheet">
<link href="stylesheets/animate.css" rel="stylesheet">
<link href="stylesheets/gg-visualEdit.css" rel="stylesheet">
</head>
<body>
	<div ng-controller="containerController">
		<header ng-controller="headController">
			<nav>
				<ul>
					<li ng-click="addWordBox()">文本</li>
					<li ng-click="addPicBox()">图片
					<input id="fileImage" type="file" size="30" name="fileselect[]" multiple="" style="display:none"></li>
					<li ng-click="saveJson()">保存</li>
					<li ng-click="viewTest()">浏览</li>
				</ul>
			</nav>
		</header>
		<div  class="middle" gg-middle ng-mousedown="midClick($event)">
			<div class="container">
				<div gg-rotate gg-resize gg-drag gg-edit ctype="2" ng-dblclick="editWord($event)" ng-mousedown="bindResize()" class="draggable">
					<div class="edit animatable" style="">
						<div class="text preventDom edit-text" style="word-wrap: break-word;">Ford</div>
					</div>
				</div>
				<div gg-rotate gg-resize gg-drag gg-edit class="draggable" ctype="4" style="top:50px">
					<div class="edit-img animatable" style="">
						<img id="18" class="element comp_image editable-image" src="/images/head.png" >
					</div>
				</div>
				<div gg-rotate gg-resize gg-drag gg-edit class="draggable" ctype="4" style="top:150px">
					<div class="edit-img animatable" style="">
						<img id="18" class="element comp_image editable-image" src="/images/tail.png" >
					</div>
				</div>
			</div>	
			<nav class="right-menu">
				<ul>
					<li>上一层</li>
					<li>下一层</li>
					<li class="delete">删除</li>
				</ul>
			</nav>
		</div>
	</div>
	<div class="toolbar">
			
		<!-- 截取框 -->
		<div class="img-Jcrop" >
				<!-- <img id="jcrop" src=""> -->
		</div>
		
		<!--上传图片-->
		<!-- <div ng-controller="uploadPicController">
			<button ng-click="selectPic()">Upload Your Pic</button>
			<input type="file" style="display:none" id="file" name='file'/>
		</div> -->

		<!-- css3 animate -->
		<div class="animate">
				<!-- <div class="setNumber">持续: <input type="text" /></div>
				<div class="setNumber">延时: <input type="text" /></div> -->
				<!-- <ul>
						<li class="noeffect">无效果</li>
						<li class="fadeInNormal">淡入</li>
						<li class="fadeIn">弹性放大</li>
						<li class="expandOpen">弹性缩小</li>
						<li class="zoomIn">放大</li>
				</ul> -->
		</div>
	</div>

	<!--wordEdit-->
	<div class="btn-toolbar ui-center" data-role="editor-toolbar" data-target="#editor">
		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown" title="" data-original-title="Font"><i class="icon-font"></i><b class="caret"></b></a>
			<ul class="dropdown-menu">
				<li><a data-edit="fontName Serif" style="font-family:&#39;Serif&#39;">Serif</a></li>
				<li><a data-edit="fontName Sans" style="font-family:&#39;Sans&#39;">Sans</a></li>
				<li><a data-edit="fontName Arial" style="font-family:&#39;Arial&#39;">Arial</a></li>
				<li><a data-edit="fontName Arial Black" style="font-family:&#39;Arial Black&#39;">Arial Black</a></li>
				<li><a data-edit="fontName Courier" style="font-family:&#39;Courier&#39;">Courier</a></li>
				<li><a data-edit="fontName Courier New" style="font-family:&#39;Courier New&#39;">Courier New</a></li>
				<li><a data-edit="fontName Comic Sans MS" style="font-family:&#39;Comic Sans MS&#39;">Comic Sans MS</a></li>
				<li><a data-edit="fontName Helvetica" style="font-family:&#39;Helvetica&#39;">Helvetica</a></li>
				<li><a data-edit="fontName Impact" style="font-family:&#39;Impact&#39;">Impact</a></li>
				<li><a data-edit="fontName Lucida Grande" style="font-family:&#39;Lucida Grande&#39;">Lucida Grande</a></li>
				<li><a data-edit="fontName Lucida Sans" style="font-family:&#39;Lucida Sans&#39;">Lucida Sans</a></li>
				<li><a data-edit="fontName Tahoma" style="font-family:&#39;Tahoma&#39;">Tahoma</a></li>
				<li><a data-edit="fontName Times" style="font-family:&#39;Times&#39;">Times</a></li>
				<li><a data-edit="fontName Times New Roman" style="font-family:&#39;Times New Roman&#39;">Times New Roman</a></li>
				<li><a data-edit="fontName Verdana" style="font-family:&#39;Verdana&#39;">Verdana</a></li>
			</ul>
		</div>
		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown" title="" data-original-title="Font Size"><i class="icon-text-height"></i>&nbsp;<b class="caret"></b></a>
			<ul class="dropdown-menu">
				<li><a data-edit="fontSize 5"><font size="5">Huge</font></a></li>
				<li><a data-edit="fontSize 3"><font size="3">Normal</font></a></li>
				<li><a data-edit="fontSize 1"><font size="1">Small</font></a></li>
			</ul>
		</div>
		<div class="btn-group">
			<a class="btn btn-info" data-edit="bold" title="" data-original-title="Bold (Ctrl/Cmd+B)"><i class="icon-bold"></i></a>
			<a class="btn btn-info" data-edit="italic" title="" data-original-title="Italic (Ctrl/Cmd+I)"><i class="icon-italic"></i></a>
			<a class="btn" data-edit="strikethrough" title="" data-original-title="Strikethrough"><i class="icon-strikethrough"></i></a>
			<a class="btn btn-info" data-edit="underline" title="" data-original-title="Underline (Ctrl/Cmd+U)"><i class="icon-underline"></i></a>
		</div>
		<div class="btn-group">
			<a class="btn" data-edit="insertunorderedlist" title="" data-original-title="Bullet list"><i class="icon-list-ul"></i></a>
			<a class="btn" data-edit="insertorderedlist" title="" data-original-title="Number list"><i class="icon-list-ol"></i></a>
			<a class="btn" data-edit="outdent" title="" data-original-title="Reduce indent (Shift+Tab)"><i class="icon-indent-left"></i></a>
			<a class="btn" data-edit="indent" title="" data-original-title="Indent (Tab)"><i class="icon-indent-right"></i></a>
		</div>
		<div class="btn-group">
			<a class="btn btn-info" data-edit="justifyleft" title="" data-original-title="Align Left (Ctrl/Cmd+L)"><i class="icon-align-left"></i></a>
			<a class="btn" data-edit="justifycenter" title="" data-original-title="Center (Ctrl/Cmd+E)"><i class="icon-align-center"></i></a>
			<a class="btn" data-edit="justifyright" title="" data-original-title="Align Right (Ctrl/Cmd+R)"><i class="icon-align-right"></i></a>
			<a class="btn" data-edit="justifyfull" title="" data-original-title="Justify (Ctrl/Cmd+J)"><i class="icon-align-justify"></i></a>
		</div>
		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown" title="" data-original-title="Hyperlink"><i class="icon-link"></i></a>
			<div class="dropdown-menu input-append">
				<input class="span2" placeholder="URL" type="text" data-edit="createLink">
				<button class="btn" type="button">Add</button>
			</div>
			<a class="btn" data-edit="unlink" title="" data-original-title="Remove Hyperlink"><i class="icon-cut"></i></a>
		</div>
		<div class="btn-group">
			<a class="btn" title="" id="pictureBtn" data-original-title="Insert picture (or just drag &amp; drop)"><i class="icon-picture"></i></a>
			<input type="file" data-role="magic-overlay" data-target="#pictureBtn" data-edit="insertImage" style="opacity: 0; position: absolute; top: 0px; left: 0px; width: 37px; height: 30px;">
		</div>
		<div class="btn-group">
			<a class="btn" data-edit="undo" title="" data-original-title="Undo (Ctrl/Cmd+Z)"><i class="icon-undo"></i></a>
			<a class="btn" data-edit="redo" title="" data-original-title="Redo (Ctrl/Cmd+Y)"><i class="icon-repeat"></i></a>
		</div>
		<div class="btn-group">
			<!-- <a class="btn dropdown-toggle first-child" data-toggle="dropdown" title="文字大小" aria-haspopup="true" aria-expanded="false">
					<i class="glyphicon glyphicon-text-width">
					</i>
					&nbsp;
					<b class="caret">
					</b>
			</a> -->
			<a class="btn dropdown-toggle" data-toggle="dropdown" title="" data-original-title="">
				<i class="icon-font">
				</i><b class="caret"></b>
			</a>
			<ul class="dropdown-menu size-menu">
				<li><a data-edit="fontSize 7" >48px</a></li>
				<li><a data-edit="fontSize 6">32px</a></li>
				<li><a dropdown-toggle="" data-edit="fontSize 5" aria-haspopup="true" aria-expanded="false">24px</a></li>
				<li><a dropdown-toggle="" data-edit="fontSize 4" aria-haspopup="true" aria-expanded="false">18px</a></li>
				<li><a dropdown-toggle="" data-edit="fontSize 3" aria-haspopup="true" aria-expanded="false">16px</a></li>
				<li><a dropdown-toggle="" data-edit="fontSize 2" aria-haspopup="true" aria-expanded="false">13px</a></li>
				<li><a dropdown-toggle="" data-edit="fontSize 1" aria-haspopup="true" aria-expanded="false">12px</a></li>
			</ul>
		</div>
		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown" title="文字颜色" aria-haspopup="true" aria-expanded="false">
				<i class="glyphicon glyphicon-font color-btn"></i>
				&nbsp;
				<b class="caret"></b>
			</a>
			<ul class="dropdown-menu color-menu ng-scope">
				<li><a class="btn" data-edit="foreColor #000000" style="background-color: #000000;height:10px;width:10px" ></a></li>
				<li><a class="btn" data-edit="foreColor #7e2412" style="background-color: #7e2412"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #ff5400" style="background-color: #ff5400" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #225801" style="background-color: #225801" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #0c529e" style="background-color: #0c529e" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #333333" style="background-color: #333333" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #b61b52" style="background-color: #b61b52" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #f4711f" style="background-color: #f4711f" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #3bbc1e" style="background-color: #3bbc1e" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #23a3d3" style="background-color: #23a3d3" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #888888" style="background-color: #888888" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #d34141" style="background-color: #d34141" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #f7951e" style="background-color: #f7951e" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #29b16a" style="background-color: #29b16a" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #97daf3" style="background-color: #97daf3" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #cccccc" style="background-color: #cccccc" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #ec7c7c" style="background-color: #ec7c7c" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #fdea02" style="background-color: #fdea02" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #79c450" style="background-color: #79c450" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #563679" style="background-color: #563679" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #ffffff" style="background-color: #ffffff" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #ffcccc" style="background-color: #ffcccc" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #d9ef7f" style="background-color: #d9ef7f" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn" data-edit="foreColor #c3f649" style="background-color: #c3f649" aria-haspopup="true" aria-expanded="false"></a></li>
				<li><a dropdown-toggle="" class="btn glyphicon glyphicon-remove" data-edit="foreColor transparent" style="background-color: transparent" aria-haspopup="true" aria-expanded="false"></a></li>
			</ul>
		</div>
		<div class="btn-group">
			<a class="btn dropdown-toggle" data-toggle="dropdown" title="文字背景颜色" aria-haspopup="true" aria-expanded="false">
				<i class="glyphicon glyphicon-font bgcolor-btn">
				</i>
				&nbsp;
				<b class="caret">
				</b>
			</a>
			<ul class="dropdown-menu bgcolor-menu ng-scope">
			<li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(0,0,0, 0.3)" style="background-color: rgba(0,0,0, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(126,36,18, 0.3)" style="background-color: rgba(126,36,18, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(255,84,0, 0.3)" style="background-color: rgba(255,84,0, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(34,88,1, 0.3)" style="background-color: rgba(34,88,1, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(12,82,158, 0.3)" style="background-color: rgba(12,82,158, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(51,51,51, 0.3)" style="background-color: rgba(51,51,51, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(182,27,82, 0.3)" style="background-color: rgba(182,27,82, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(244,113,31, 0.3)" style="background-color: rgba(244,113,31, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(59,188,30, 0.3)" style="background-color: rgba(59,188,30, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(35,163,211, 0.3)" style="background-color: rgba(35,163,211, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(136,136,136, 0.3)" style="background-color: rgba(136,136,136, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(211,65,65, 0.3)" style="background-color: rgba(211,65,65, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(247,149,30, 0.3)" style="background-color: rgba(247,149,30, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(41,177,106, 0.3)" style="background-color: rgba(41,177,106, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(151,218,243, 0.3)" style="background-color: rgba(151,218,243, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(204,204,204, 0.3)" style="background-color: rgba(204,204,204, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(236,124,124, 0.3)" style="background-color: rgba(236,124,124, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(253,234,2, 0.3)" style="background-color: rgba(253,234,2, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(121,196,80, 0.3)" style="background-color: rgba(121,196,80, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(86,54,121, 0.3)" style="background-color: rgba(86,54,121, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(255,255,255, 0.3)" style="background-color: rgba(255,255,255, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(255,204,204, 0.3)" style="background-color: rgba(255,204,204, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(217,239,127, 0.3)" style="background-color: rgba(217,239,127, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn" data-edit="backColor rgba(195,246,73, 0.3)" style="background-color: rgba(195,246,73, 0.3)" aria-haspopup="true" aria-expanded="false"></a></li><li><a dropdown-toggle="" class="btn glyphicon glyphicon-remove" data-edit="backColor transparent" style="background-color: transparent" aria-haspopup="true" aria-expanded="false"></a></li></ul>
		</div>
		<input type="text" data-edit="inserttext" id="voiceBtn" x-webkit-speech="" style="display: none;">
	</div>
	<script src="javascripts/jquery-1.11.2.min.js"></script>
	<script src="javascripts/jquery-ui-1.11.4.custom/jquery-ui.min.js"></script>
	<script src="javascripts/angular.min.js"></script>
	<script src="javascripts/hammer.js"></script>
	<script src="javascripts/jquery.hotkeys.js"></script>
	<script src="javascripts/bootstrap.min.js"></script>
	<script src="javascripts/bootstrap-wysiwyg.js"></script>
	<script src="javascripts/jquery.Jcrop.js"></script>
	<script src="javascripts/gg-visualEdit.js"></script>
	<script>
	
		$(function(){
			function initToolbarBootstrapBindings() {
				var fonts = ['Serif', 'Sans', 'Arial', 'Arial Black', 'Courier', 
							'Courier New', 'Comic Sans MS', 'Helvetica', 'Impact', 'Lucida Grande', 'Lucida Sans', 'Tahoma', 'Times',
							'Times New Roman', 'Verdana'],
							fontTarget = $('[title=Font]').siblings('.dropdown-menu');
				$.each(fonts, function (idx, fontName) {
						fontTarget.append($('<li><a data-edit="fontName ' + fontName +'" style="font-family:\''+ fontName +'\'">'+fontName + '</a></li>'));
				});
				$('a[title]').tooltip({container:'body'});
					$('.dropdown-menu input').click(function() {return false;})
							.change(function () {$(this).parent('.dropdown-menu').siblings('.dropdown-toggle').dropdown('toggle');})
					.keydown('esc', function () {this.value='';$(this).change();});

				$('[data-role=magic-overlay]').each(function () { 
					var overlay = $(this), target = $(overlay.data('target')); 
					overlay.css('opacity', 0).css('position', 'absolute').offset(target.offset()).width(target.outerWidth()).height(target.outerHeight());
				});
				$('#voiceBtn').hide();
				// if ("onwebkitspeechchange"  in document.createElement("input")) {
				//   var editorOffset = $('#editor').offset();
				//   $('#voiceBtn').css('position','absolute').offset({top: editorOffset.top, left: editorOffset.left+$('#editor').innerWidth()-35});
				// } else {
				//   $('#voiceBtn').hide();
				// }
			};
			initToolbarBootstrapBindings();  
			
		});
	</script>
</body>
</html>